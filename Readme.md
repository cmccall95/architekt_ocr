# PDF Image Extraction and OCR Tool

This tool is designed for extracting images from a PDF and applying Optical Character Recognition (OCR) to the extracted images. You can also use this tool to run OCR on specific pages and enable debugging for further analysis.

## PDF Image Extraction

To extract images from a PDF, use the following command:

```bash
python pdf_utils.py <input-pdf> <pages-count>
```

- Replace `<input-pdf>` with the path to your PDF file.
- Specify the `<pages-count>` to limit the number of pages to extract. Use a lesser page count for testing purposes.

## Applying OCR to Extracted Images

After extracting the images using the PDF utility, you can apply OCR to these images with the following command:

```bash
python main.py <input-image>
```

**Note**: Only images extracted by `pdf_utils` and having names ending with *_1.png can be used as input for `main.py`.

## New Implementation Usage

To utilize the new implementation of this tool, follow these commands:

### Full PDF OCR

Apply OCR to the entire PDF and save the output as a JSON file in the specified `output_dir` directory:

```bash
python apply_ocr.py path_to_pdf path_to_rectangles output_dir
```

### OCR on a Single Page

Run OCR on a specific page of the PDF:

```bash
python apply_ocr.py path_to_pdf path_to_rectangles output_dir page_number
```

### Debug Mode (Optional)

You can enable debug mode to save the images generated by OCR to the `./debug` directory. To do so, use one of the following commands:

```bash
python apply_ocr.py path_to_pdf path_to_rectangles output_dir page_number debug
```

or

```bash
python apply_ocr.py path_to_pdf path_to_rectangles output_dir debug
```

### Example Usage

To test the implementation, you can use the provided examples in the assets directory with the following command:

```bash
python apply_ocr.py ./assets/ihi_pdf.pdf ./assets/rectangles.json ./debug debug
```

Feel free to replace the file paths and parameters according to your needs and enjoy using this PDF image extraction and OCR tool.